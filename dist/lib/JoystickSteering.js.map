{"version":3,"sources":["../../src/lib/JoystickSteering.js"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;;;;;;;IAEqB;;;AACnB,WADmB,gBACnB,CAAY,IAAZ,EAAkB,KAAlB,EAAyB,OAAzB,EAAkC;0BADf,kBACe;;uEADf,6BAEX,MAAM,OAAO,UADa;;AAGhC,UAAK,IAAL,GAAY,IAAZ;;;AAHgC,SAMhC,CAAK,IAAL,GAAY,MAAK,IAAL,CAAU,IAAV,OAAZ,CANgC;;GAAlC;;eADmB;;yBAUd,UAAU;;;AAEb,iCAZiB,+DAYG,UAAU,UAAC,KAAD,EAAQ,MAAR,EAAmB;;AAE/C,YAAI,OAAO,OAAO,YAAP,CAAoB,CAApB,CAAP;YAEA,YAAY,MAAM,KAAN,CAAY,CAAZ,EAAe,YAAf,CAA4B,CAA5B,CAAZ;YAEA,MAAM,YAAY,OAAK,IAAL,8BAlBP,yDAkBL,8BAlBK,0DAkBL;YAEN,MAAM,KAAK,GAAL;YACN,MAAM,KAAK,GAAL,CATqC;;AAW/C,YAAG,OAAK,IAAL,EAAW;AACZ,iBAAK,IAAL,GAAY,KAAZ,CADY;;AAGZ,qCA1Ba,8DA0BE,KAAK,YAAM;;AAExB,gBAAI,WAAW,IAAI,IAAI,MAAM,IAAI,OAAO,SAAP,CAAV,EAA6B,GAAjC,CAAJ,CAAX,CAFoB;;AAIxB,oBAAQ,GAAR,CAAY,eAAe,QAAf,CAAZ,CAJwB;;AAMxB,uBAAW,YAAM;AACf,qBAAK,IAAL,GAAY,IAAZ,CADe;aAAN,EAER,QAFH,EANwB;WAAN,CAApB,CAHY;SAAd;OAX4B,CAA9B,CAFa;;;;SAVI","file":"JoystickSteering.js","sourcesContent":["import AbstractSteering from './AbstractSteering';\n\nexport default class JoystickSteering extends AbstractSteering {\n  constructor(left, right, options) {\n    super(left, right, options);\n\n    this.pass = true;\n\n    //Bind class functions to the prototype of this class.\n    this.turn = this.turn.bind(this);\n  }\n\n  turn(rawFrame) {\n\n    super.calibrateHand(rawFrame, (frame, zeroes) => { \n\n      let zero = zeroes.palmPosition[0],\n\n          direction = frame.hands[0].palmPosition[0],\n          \n          key = direction < this.zero ? super.left() : super.right(),\n          \n          abs = Math.abs,\n          min = Math.min;\n\n      if(this.pass) {\n        this.pass = false;\n\n        super.keyPress(key, () => {\n\n          let waitTime = abs(min(100 - abs(zero - direction), 150)); \n\n          console.log(\"waitTime: \" + waitTime);\n\n          setTimeout(() => {\n            this.pass = true;\n          }, waitTime);\n        });\n      }\n    });\n  }\n}"]}